<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="css/main.css">
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.css">

        <title>Soup Launcher</title>
    </head>

    <body id="bawdy">
        <nav class="navbar sticky-top navbar-color" id="navbar">
            <div class="redesign-button" onclick="window.open('settings.html', '_blank', 'nodeIntegration=yes');">Settings</div>
            <div class="redesign-button" onclick="window.open('newinstance.html', '_blank', 'nodeIntegration=yes');">New</div>
            <div class="redesign-button" onclick="browseModPacks();">Browse</div>
            <div class="redesign-button" onclick="importPack();">Import</div>
            <div class="redesign-button" onclick="window.open('about.html', '_blank', 'nodeIntegration=yes');">About</div>
            <div class="redesign-button" onclick="logout();">Logout</div>
            <img id="profpic" class="profpic" src="">
        </nav>
        <br>

        <div class="grid-container" id="instances">
                
        </div>

        <script src="js/index.js"></script>

        <footer class="fowoter">
            <div class="text-center">
                <span id="releases-info">Loading release info...</span>
            </div>
        </footer>

        <script>
            async function updateRelease()
            {
                let latestRelease = await fetch('https://api.github.com/repos/supertransformer/SoupLauncher/releases/latest');
                let jsonRelease = await latestRelease.json();
                console.log(jsonRelease);
                document.getElementById('releases-info').innerHTML = `Latest update: ${jsonRelease.tag_name} <b style="cursor: pointer;" onclick='shell.openItem("${jsonRelease.html_url}")'>More info</b>`;
            }
            updateRelease();
        </script>
    </body>
</html>